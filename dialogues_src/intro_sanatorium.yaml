# First dialogue in the sanatorium - child wakes up
id: intro_sanatorium
title: "Awakening in the Sanatorium"

characters:
  child:
    name: "???"
  nurse:
    name: "Nurse"
    portrait: "res://art/portraits/nurse.png"
  doctor:
    name: "Doctor"
    portrait: "res://art/portraits/doctor.png"

start: wake_up

nodes:
  wake_up:
    say: { speaker: child, text: "..." }
    next: look_around

  look_around:
    say: { speaker: child, text: "(Where am I? Everything is so... foggy.)" }
    next: nurse_enters

  nurse_enters:
    say: { speaker: nurse, text: "Oh! You're awake. How do you feel?" }
    next: response_choice

  response_choice:
    choice:
      - text: "(Stay silent)"
        next: silent_response
      - text: "(Try to speak)"
        next: speak_response

  silent_response:
    say: { speaker: nurse, text: "It's alright, dear. You don't have to speak. Rest now." }
    set:
      flags.stayed_silent: true
    next: nurse_leaves

  speak_response:
    say: { speaker: child, text: "I... I don't remember..." }
    next: nurse_concerned

  nurse_concerned:
    say: { speaker: nurse, text: "Shh, don't strain yourself. The doctor will see you soon." }
    set:
      flags.tried_to_speak: true
    next: nurse_leaves

  nurse_leaves:
    say: { speaker: nurse, text: "I'll bring you some water. Don't try to get up." }
    set:
      flags.intro_done: true
    end: true
